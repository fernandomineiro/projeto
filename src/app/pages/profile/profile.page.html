<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="tertiary"></ion-menu-button>
    </ion-buttons>
    <ion-title>Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div class="container">
    <div class="row">
      <div class="col-lg-3 col-sm-6">

        <div class="card hovercard" *ngIf="usuario">
          <div class="cardheader">

          </div>
          <div class="avatar">
            <img src={{service.URL_IMG.users}}{{usuario.avatar}}>
            <label for="imgNew" (click)="captureImage(template)">
              <i class="fas fa-pen-square"></i>
            </label>
            <!-- <input id="imgNew" type="file" class="hide-input-file" (change)="fileChangeEvent($event,template)"> -->

          </div>

          <div class="info">
            <div class="title">
              <span *ngIf="usuario.associate">SÃ³cio na plataforma</span>
            </div>

            <div class="desc"></div>

            <div class="jumbotron">
              <div class="container">
                <div class="row">
                  <div class="col-md-6 offset-md-3">
                    <form [formGroup]="registerForm" *ngIf="usuario">
                      <div class="form-group">
                        <label>Nome</label>
                        <input type="text" formControlName="name" class="form-control"/>
                        <span *ngIf="formSend">
                          <span class="text-danger" *ngIf="registerForm.controls['name'].invalid">
                            Favor preencher este campo
                          </span>
                        </span>
                      </div>
                      <div class="form-group">
                        <label>Telefone</label>
                        <input type="text" formControlName="phone_number" class="form-control"/>
                        <span *ngIf="formSend">
                          <span class="text-danger" *ngIf="registerForm.controls['phone_number'].invalid">
                            Favor preencher este campo
                          </span>
                        </span>
                      </div>
                      <div class="form-group">
                        <label>Email</label>
                        <input type="text" formControlName="email" class="form-control"/>
                        <span *ngIf="formSend">
                          <span class="text-danger" *ngIf="registerForm.controls['email'].invalid">
                            Favor preencher este campo
                          </span>
                        </span>
                      </div>
                      <div class="form-group">
                        <label>Senha</label>
                        <input type="password" formControlName="password" class="form-control"/>

                      </div>
                      <div class="form-group">
                        <label>Confirmar senha</label>
                        <input type="password" formControlName="confirmPassword" class="form-control"/>

                      </div>
                      <div class="form-group">
                        <button (click)="saveUser()" style="width: 100px; border-radius: 0%"
                          class="btn btn-primary">Salvar</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>            
          </div>
        </div>

      </div>

    </div>
  </div>

</ion-content>

<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Editar Imagem</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">    
    
    <div *ngIf="changeImg" class="d-flex justify-content-center align-baseline">
      <img [src]="urlImg">
    </div>
    
  </div>
  
  <ion-button *ngIf="changeImg" expand="full" color="primary" (click)="saveImage()" [disabled]="loadBtn">
    <span *ngIf="loadBtn"><i class="fas fa-spinner fa-spin"></i></span>
    <span *ngIf="!loadBtn">SALVAR</span>
  </ion-button>
</ng-template>